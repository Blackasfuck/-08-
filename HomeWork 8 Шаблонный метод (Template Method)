using System;

public abstract class Beverage
{
    public void PrepareRecipe()
    {
        BoilWater();
        Brew();
        PourInCup();
        if (CustomerWantsCondiments())
        {
            AddCondiments();
        }
    }

    private void BoilWater() => Console.WriteLine("Кипячение воды");
    private void PourInCup() => Console.WriteLine("Наливание напитка в чашку");

    protected abstract void Brew();
    protected abstract void AddCondiments();

    protected virtual bool CustomerWantsCondiments() => true;
}

public class Tea : Beverage
{
    protected override void Brew() => Console.WriteLine("Заваривание чая");
    protected override void AddCondiments() => Console.WriteLine("Добавление лимона");

    protected override bool CustomerWantsCondiments()
    {
        Console.WriteLine("Хотите добавить лимон в чай (да/нет)?");
        return Console.ReadLine()?.ToLower() == "да";
    }
}

public class Coffee : Beverage
{
    protected override void Brew() => Console.WriteLine("Заваривание кофе");
    protected override void AddCondiments() => Console.WriteLine("Добавление сахара и молока");

    protected override bool CustomerWantsCondiments()
    {
        Console.WriteLine("Хотите добавить сахар и молоко в кофе (да/нет)?");
        return Console.ReadLine()?.ToLower() == "да";
    }
}

class Program
{
    static void Main()
    {
        var tea = new Tea();
        var coffee = new Coffee();

        Console.WriteLine("Приготовление чая:");
        tea.PrepareRecipe();

        Console.WriteLine("\nПриготовление кофе:");
        coffee.PrepareRecipe();
    }
}
